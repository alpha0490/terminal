Terminal Setup Script - Usage Guide
==================================

This file explains what the script installs and how to use the tools after setup.

The script focuses on:
- Zsh shell improvements
- Better terminal UX
- Faster CLI navigation/search
- A cleaner prompt
- tmux for terminal sessions

--------------------------------------------------
1) Zsh + Shell Enhancements
--------------------------------------------------

1.1 Oh My Zsh
-------------
What it is:
- A framework for managing Zsh config, plugins, and themes.

What the script does:
- Installs Oh My Zsh (if not already installed)
- Keeps your existing .zshrc
- Loads it from the managed block in .zshrc

How to use:
- Open a new terminal (or run `exec zsh`)
- You’re already using it if your shell is zsh and the managed block is active

Useful:
- Your script keeps OMZ plugin usage minimal (`plugins=(git)`) to avoid conflicts.

---

1.2 zsh-autocomplete
--------------------
What it is:
- Real-time autocomplete while typing (not just Tab completion).

How to use:
- Start typing a command/path and watch suggestions appear automatically
- Press:
  - Tab -> accept completion
  - Arrow keys -> move/select suggestions (depends on config/terminal)

Example:
  gi<Tab>
  -> completes to `git`

Notes:
- This is different from autosuggestions.
- autocomplete focuses on completions (commands, paths, options, etc.)

---

1.3 zsh-autosuggestions
-----------------------
What it is:
- Shows suggestions from your shell history as you type.

How to use:
- Start typing something you’ve used before
- A faded suggestion appears to the right
- Press:
  - Right Arrow (or End) to accept the suggestion

Example:
  Type: `kubectl get`
  It may suggest: `kubectl get pods -n prod`

---

1.4 zsh-syntax-highlighting
---------------------------
What it is:
- Syntax highlighting in the shell while typing.

How to use:
- Just type commands normally
- Valid commands/options/paths get highlighted
- Invalid commands often show different colors

Why it helps:
- You can catch mistakes before pressing Enter

Example:
- Typing a valid command like `ls` will look different than `lss`

--------------------------------------------------
2) Prompt
--------------------------------------------------

2.1 Starship (optional, enabled in your v1)
-------------------------------------------
What it is:
- A fast cross-shell prompt that shows useful context:
  - current folder
  - git branch
  - runtime versions (Node/Python/etc.)
  - cloud context (AWS profile, etc.)
  - and more

How to use:
- No command needed after install
- It loads automatically in zsh if installed

Basic config:
- Starship can be customized with:
  ~/.config/starship.toml

Check version:
  starship --version

Docs:
- https://starship.rs/

--------------------------------------------------
3) CLI Productivity Tools
--------------------------------------------------

3.1 fzf
-------
What it is:
- Fuzzy finder for files, history, and command output.

How to use (basic):
- Run `fzf` in any folder to fuzzy-search files
- Pipe results into it

Examples:
  fzf
  (interactive file picker in current directory)

  history | fzf
  (search command history)

  git branch | fzf
  (pick a branch interactively)

Tips:
- It becomes much more powerful when combined with other tools (`fd`, `rg`, etc.)

---

3.2 zoxide
----------
What it is:
- A smarter `cd` command that learns the directories you use most.

How to use:
- The script loads zoxide automatically in zsh
- Use `z <folder-name>` instead of `cd`

Examples:
  z docs
  z project
  z terminal

How it works:
- It tracks where you go and ranks matches by frequency/recency

Useful commands:
  zoxide query docs
  zoxide --help

---

3.3 eza
-------
What it is:
- A modern replacement for `ls`

What the script does:
- Adds aliases:
  - `ls` -> `eza --group-directories-first --icons=auto`
  - `ll` -> `eza -la --group-directories-first --icons=auto`

How to use:
- Just use `ls` and `ll` as usual

Examples:
  ls
  ll
  eza -T
  (tree view)

Useful flags:
- `-l` long format
- `-a` show hidden files
- `-T` tree
- `--git` show git status

---

3.4 bat
-------
What it is:
- A better `cat` with syntax highlighting and line numbers

What the script does:
- Adds alias:
  - `cat` -> `bat --paging=never` (or `batcat` on some systems)

How to use:
- Just use `cat` like normal

Examples:
  cat main.sh
  cat ~/.zshrc

Use raw bat command for more features:
  bat main.sh
  bat -n main.sh        (show line numbers)
  bat --theme=TwoDark main.sh

---

3.5 ripgrep (rg)
----------------
What it is:
- Very fast text search in files (better `grep` for code/logs)

Command:
- `rg`

Examples:
  rg "TODO"
  rg "password" .
  rg "Error" /var/log
  rg --glob "*.py" "boto3"

Why it’s good:
- Fast
- Respects .gitignore by default
- Great for large codebases

---

3.6 fd
------
What it is:
- A faster, simpler alternative to `find`

Command:
- `fd`
(If your distro installs `fd-find`, command may be `fdfind`)

Examples:
  fd main
  fd "\.json$"
  fd -t f
  fd -t d src

Useful flags:
- `-t f` files only
- `-t d` directories only
- `-H` include hidden files

Great combo:
  fd | fzf

---

3.7 jq
------
What it is:
- Command-line JSON parser and formatter

How to use:
- Pipe JSON into `jq`

Examples:
  cat response.json | jq
  jq '.name' response.json
  jq '.items[] | {id, name}' response.json

Useful in cloud/security work:
  aws sts get-caller-identity | jq
  cat logs.json | jq '.events[] | .eventName'

---

3.8 direnv
----------
What it is:
- Automatically loads/unloads environment variables when entering/leaving directories

How to use:
1) In a project folder, create `.envrc`
2) Add environment variables
3) Approve it with `direnv allow`

Example:
  mkdir myproject && cd myproject
  echo 'export AWS_PROFILE=dev' > .envrc
  direnv allow

Now every time you `cd` into that folder, the env vars load automatically.

Commands:
  direnv allow
  direnv deny
  direnv status

Important:
- Always review `.envrc` before allowing it

---

3.9 atuin
---------
What it is:
- Better shell history (searchable, structured, optional sync)

What the script does:
- Loads atuin in zsh (with up-arrow history disabled in your config)

How to use:
- Start using shell normally; history gets captured
- Search history with:
  atuin search

Depending on your shell config/keybindings:
- You may also get interactive history search shortcuts

Useful commands:
  atuin history list
  atuin search --interactive
  atuin stats

Note:
- Atuin can sync history across machines if you choose to set that up later (optional).

--------------------------------------------------
4) Session Manager
--------------------------------------------------

4.1 tmux (optional, enabled in your v1)
---------------------------------------
What it is:
- Terminal multiplexer (persistent sessions, panes, windows)

Why it matters:
- You can keep sessions alive
- Split terminals
- Reattach later
- Great for long-running tasks

Start tmux:
  tmux

Detach from tmux (leave it running):
  Press: Ctrl+b then d

List sessions:
  tmux ls

Attach to a session:
  tmux attach
  tmux attach -t 0
  tmux attach -t <session-name>

Create a named session:
  tmux new -s work

Kill a session:
  tmux kill-session -t work

Basic tmux shortcuts (default prefix is Ctrl+b):
- Ctrl+b c     -> new window
- Ctrl+b n     -> next window
- Ctrl+b p     -> previous window
- Ctrl+b %     -> split pane vertically
- Ctrl+b "     -> split pane horizontally
- Ctrl+b arrow -> move between panes
- Ctrl+b d     -> detach

Tip:
- tmux has a learning curve, but it’s worth it if you work in terminal a lot.

--------------------------------------------------
5) Aliases added by the script
--------------------------------------------------

The script adds these aliases inside the managed .zshrc block:

- `ls` -> uses `eza` if installed
- `ll` -> long listing via `eza` (or `ls -la`)
- `cat` -> uses `bat` (or `batcat` on some Linux distros)

You can still use the original binaries directly:
- `/bin/ls`
- `command cat`
- `eza`
- `bat`

--------------------------------------------------
6) After installation
--------------------------------------------------

Apply changes:
- Open a new terminal
OR
- Run:
  exec zsh

Check tools:
  ./main.sh status

Check what the script manages:
- Look in `~/.zshrc` for:
  # >>> terminal-setup managed block >>>

Script working directory:
- `~/.terminal-setup/`

--------------------------------------------------
7) Helpful combos (real-world use)
--------------------------------------------------

Search files + open one:
  fd | fzf

Search text fast:
  rg "keyword" .

Jump to a frequent project:
  z myproject

Pretty-print JSON from AWS:
  aws sts get-caller-identity | jq

Read a file with colors:
  cat main.sh

Start a persistent terminal session:
  tmux new -s dev

--------------------------------------------------
8) Revert behavior (important)
--------------------------------------------------

`./main.sh revert`:
- Removes the managed block from `.zshrc`
- Restores `.zshrc` backup (if tracked)
- Removes plugins/packages only if the script recorded them in its manifest

This is intentionally conservative.

If a tool was already installed before the script, revert will usually leave it alone.

--------------------------------------------------
9) Quick command cheat sheet
--------------------------------------------------

Shell / Zsh:
- exec zsh

Navigation:
- z <folder>
- fd <pattern>
- fd | fzf

Search:
- rg "<text>"

Files:
- ls
- ll
- cat <file>

JSON:
- jq .
- jq '.field'

Env:
- direnv allow
- direnv status

History:
- atuin search

Sessions:
- tmux
- tmux ls
- tmux attach -t <name>

--------------------------------------------------
10) Optional next steps (manual)
--------------------------------------------------

If you want to level it up further later:
- Add a `~/.config/starship.toml` for custom prompt styling
- Add a `.tmux.conf` with better keybindings
- Add aliases/functions for your cloud workflow (AWS, kubectl, docker)
- Add `revert --force` to your script (v1.1 idea)

Done.
